<% layout('/layouts/boilerplate') -%>

<body>
    <ul class="nav nav-tabs" style="position: fixed; top: 64px; z-index: 0; width: 100%; ">
        <li class="nav-item">
            <a class="nav-link " aria-current="page" href="/dashboard/show-detail/<%= classId %>">Stream</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link " aria-current="page" href="/dashboard/show-detail/<%= classId %>/Assignment">Class_Work</a>
          </li>
        <li class="nav-item">
            <a class="nav-link active" href="/dashboard/show-detail/<%= classId %>/people">People</a>
        </li>
    </ul>
    <div class="offset-2"  style="margin-top: 5rem;"><br>
        <div class="shadow-sm bg-body-tertiary rounded w-75 p-3">
            <h3>Teacher</h3>
            <hr>
            <span><%= classCreatorName %></span>
        </div>
    </div>

    <div class="offset-2 d-flex flex-column" ><br>
        <div class="shadow-sm bg-body-tertiary rounded w-75 p-3 ">
            <h3>Class Members</h3>
            <hr>
            <div class="d-flex flex-column">
            <% classMembers.forEach(member => { %>
                <span><%= member.user_id.username %></span>

                <% if (userId && (userId === classCreatorId)) { %>
                    <form method="post" action="/dashboard/class/delete-member/<%= member._id %>"
                        onsubmit="return confirm('Are you sure you want to delete this member and associated data?');">
                        <input type="hidden" name="class_id" value="<%= classId %>">
                        <button type="submit" class="btn btn-danger btn-sm">Remove Member</button>
                    </form>
                <% } %>
                <hr>
            <% }) %>
            </div>
        </div>
    </div>
    
</body>
